import{A as x,F as z,G as P,H as f,I as u,J,K,N as Z,Oa as Y,Qa as V,W as v,Z as T,_a as q,c as _,d as $,g as E,ga as b,h as R,i as C,j as S,k as O,lb as Q,mb as w,n as B,o as G,pb as X,r as H,vb as ee,w as k,z as y}from"./chunk-BI4CKXZS.js";import{a as p}from"./chunk-5OH3PL7V.js";var oe="firebase",ae="11.5.0";p.registerVersion(oe,ae,"app-compat");var le=["ngOnDestroy"],te=(e,l,n,t={})=>new Proxy(e,{get:(c,i)=>n.runOutsideAngular(()=>{if(e[i])return t?.spy?.get&&t.spy.get(i,e[i]),e[i];if(le.indexOf(i)>-1)return()=>{};let r=l.toPromise().then(o=>{let a=o?.[i];return typeof a=="function"?a.bind(o):a?.then?a.then(g=>n.run(()=>g)):n.run(()=>a)});return new Proxy(()=>{},{get:(o,a)=>r[a],apply:(o,a,g)=>r.then(A=>{let j=A?.(...g);return t?.spy?.apply&&t.spy.apply(i,g,j),j})})})});var M=class{constructor(l){return l}},F=new f("angularfire2.app.options"),N=new f("angularfire2.app.name");function W(e,l,n){let t=typeof n=="string"&&n||"[DEFAULT]",c=typeof n=="object"&&n||{};c.name=c.name||t;let r=p.apps.filter(o=>o&&o.name===c.name)[0]||l.runOutsideAngular(()=>p.initializeApp(e,c));try{if(JSON.stringify(e)!==JSON.stringify(r.options)){let o=!!module.hot;ue("error",`${r.name} Firebase App already initialized with different options${o?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new M(r)}var ue=(e,...l)=>{V()&&typeof console<"u"&&console[e](...l)},ce={provide:M,useFactory:W,deps:[F,v,[new K,N]]},Me=(()=>{class e{static initializeApp(n,t){return{ngModule:e,providers:[{provide:F,useValue:n},{provide:N,useValue:t}]}}constructor(n){p.registerVersion("angularfire",w.full,"core"),p.registerVersion("angularfire",w.full,"app-compat"),p.registerVersion("angular",Y.full,n.toString())}static \u0275fac=function(t){return new(t||e)(u(T))};static \u0275mod=b({type:e});static \u0275inj=P({providers:[ce]})}return e})();function ie(e,l,n,t,c){let[,i,r]=globalThis.\u0275AngularfireInstanceCache.find(o=>o[0]===e)||[];if(i)return pe(c,r)||(ne("error",`${l} was already initialized on the ${n} Firebase App with different settings.${fe?" You may need to reload as Firebase is not HMR aware.":""}`),ne("warn",{is:c,was:r})),i;{let o=t();return globalThis.\u0275AngularfireInstanceCache.push([e,o,c]),o}}function pe(e,l){try{return e.toString()===l.toString()}catch{return e===l}}var fe=typeof module<"u"&&!!module.hot,ne=(e,...l)=>{V()&&typeof console<"u"&&console[e](...l)};globalThis.\u0275AngularfireInstanceCache||=[];var de=new f("angularfire2.auth.use-emulator"),ge=new f("angularfire2.auth.settings"),he=new f("angularfire2.auth.tenant-id"),me=new f("angularfire2.auth.langugage-code"),ye=new f("angularfire2.auth.use-device-language"),Ae=new f("angularfire.auth.persistence"),Ie=(e,l,n,t,c,i,r,o)=>ie(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let a=l.runOutsideAngular(()=>e.auth());if(n&&a.useEmulator(...n),t&&(a.tenantId=t),a.languageCode=c,i&&a.useDeviceLanguage(),r)for(let[g,A]of Object.entries(r))a.settings[g]=A;return o&&a.setPersistence(o),a},[n,t,c,i,r,o]),Ee=(()=>{class e{injector=J(Z);authState;idToken;user;idTokenResult;credential;constructor(n,t,c,i,r,o,a,g,A,j,re,Se){let U=new $,I=S(void 0).pipe(E(r.outsideAngular),y(()=>i.runOutsideAngular(()=>import("./chunk-Z5JLXXZM.js"))),O(()=>W(n,i,t)),O(h=>Ie(h,i,o,g,A,j,a,re)),k({bufferSize:1,refCount:!1}));if(q(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=S(null);else{I.pipe(H()).subscribe();let h=I.pipe(y(s=>s.getRedirectResult().then(d=>d,()=>null)),Q(this.injector),k({bufferSize:1,refCount:!1})),L=I.pipe(y(s=>new _(d=>({unsubscribe:i.runOutsideAngular(()=>s.onAuthStateChanged(m=>d.next(m),m=>d.error(m),()=>d.complete()))})))),D=I.pipe(y(s=>new _(d=>({unsubscribe:i.runOutsideAngular(()=>s.onIdTokenChanged(m=>d.next(m),m=>d.error(m),()=>d.complete()))}))));this.authState=h.pipe(x(L),R(r.outsideAngular),E(r.insideAngular)),this.user=h.pipe(x(D),R(r.outsideAngular),E(r.insideAngular)),this.idToken=this.user.pipe(y(s=>s?C(s.getIdToken()):S(null))),this.idTokenResult=this.user.pipe(y(s=>s?C(s.getIdTokenResult()):S(null))),this.credential=B(h,U,this.authState.pipe(G(s=>!s))).pipe(O(s=>s?.user?s:null),R(r.outsideAngular),E(r.insideAngular))}return te(this,I,i,{spy:{apply:(h,L,D)=>{(h.startsWith("signIn")||h.startsWith("createUser"))&&D.then(s=>U.next(s))}}})}static \u0275fac=function(t){return new(t||e)(u(F),u(N,8),u(T),u(v),u(X),u(de,8),u(ge,8),u(he,8),u(me,8),u(ye,8),u(Ae,8),u(ee,8))};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),Ke=(()=>{class e{constructor(){p.registerVersion("angularfire",w.full,"auth-compat")}static \u0275fac=function(t){return new(t||e)};static \u0275mod=b({type:e});static \u0275inj=P({providers:[Ee]})}return e})();export{te as a,M as b,F as c,N as d,W as e,Me as f,ie as g,de as h,ge as i,he as j,me as k,ye as l,Ae as m,Ie as n,Ee as o,Ke as p};
